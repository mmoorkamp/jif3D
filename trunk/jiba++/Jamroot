project 
    : requirements <include>/usr/local/include <include>/usr/local/R-2.6.2/include 
        <include>/usr/local/cuda/include
        <threading>multi 
        <define>BIND_FORTRAN_LOWERCASE_UNDERSCORE 
    	<variant>release:<define>NDEBUG  
    	<toolset>gcc:<cflags>" -ansi -fopenmp -Wall -Wextra  -Wno-long-long -Wno-unused-parameter  -pedantic"
    	<toolset>gcc:<linkflags>" -fopenmp  "
    	<toolset>intel:<cxxflags>" -openmp   "
    	<toolset>intel:<linkflags>" -openmp   "
    	<toolset>sun:<define>BOOST_UBLAS_UNSUPPORTED_COMPILER=0
    	<toolset>sun:<cflags>" -library=stlport4" 
    	<toolset>sun:<linkflags>" -library=stlport4" 
    ;
    
path-constant TOP : . ;

import cuda ;

#using gcc :  :  : <variant>debug:<cflags>" -ansi " <variant>release:<cflags>"-fopenmp " <variant>release:<linkflags>"-fopenmp" ;
#using intel-linux : 11.0 : icpc : <cxxflags>-mssse3 ; 



use-project /Global : Global ;
use-project /Gravity : Gravity ;
use-project /ModelBase : ModelBase ;
use-project /Profiling : Profiling ;
use-project /Inversion : Inversion ;
use-project /Joint : Joint ;

local BOOST_TEST_LOG_LEVEL = all ;
lib boost_filesystem : : <name>boost_filesystem ;
lib boost_program_options : : <name>boost_program_options  ;
lib lapack : : <name>lapack ;
lib f77blas : : <name>f77blas ;
lib cblas : : <name>cblas ;
lib atlas : : <name>atlas ;
lib optpp : : <name>opt ;
lib newmat : : <name>newmat ;
lib netcdf : : <name>netcdf ;
lib netcdf_c++ : : <name>netcdf_c++ ;
lib gfortran : :  <name>gfortran ;
lib cudart : : <name>cudart <search>/usr/local/cuda/lib ;
lib cublas : : <name>cublas <search>/usr/local/cuda/lib ;
lib cutil : : <name>cutil <search>/usr/local/CUDA_SDK/lib ;
alias vecopt : lapack cblas atlas f77blas gfortran ;

build-project Global ;
build-project Gravity ;
build-project MT ;
build-project Tomo ;
build-project ModelBase ;
build-project Inversion ;
build-project Regularization ;
build-project Profiling ;
build-project Hacks ;
build-project Joint ;
